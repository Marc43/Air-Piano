<LINK REL="stylesheet" HREF="../static/styles.css">
<HTML>
<HEAD>
<TITLE>FMOD_OUTPUT_DESCRIPTION</TITLE>
</HEAD>
<BODY TOPMARGIN="0" class="api_reference">
<p class="header">Firelight Technologies FMOD Studio API</p>
<H1>FMOD_OUTPUT_DESCRIPTION</H1>
<P>
<p>When creating an output, declare one of these and provide the relevant callbacks and name for FMOD to use when it creates and uses an output of this type.</p>
</P>
<h3>C/C++ Syntax</h3>
<PRE class=syntax><CODE>typedef struct {
  unsigned int <I>apiversion</I>;
  const char *<I>name</I>;
  unsigned int <I>version</I>;
  int <I>polling</I>;
  FMOD_OUTPUT_GETNUMDRIVERS_CALLBACK <I>getnumdrivers</I>;
  FMOD_OUTPUT_GETDRIVERINFO_CALLBACK <I>getdriverinfo</I>;
  FMOD_OUTPUT_INIT_CALLBACK <I>init</I>;
  FMOD_OUTPUT_START_CALLBACK <I>start</I>;
  FMOD_OUTPUT_STOP_CALLBACK <I>stop</I>;
  FMOD_OUTPUT_CLOSE_CALLBACK <I>close</I>;
  FMOD_OUTPUT_UPDATE_CALLBACK <I>update</I>;
  FMOD_OUTPUT_GETHANDLE_CALLBACK <I>gethandle</I>;
  FMOD_OUTPUT_GETPOSITION_CALLBACK <I>getposition</I>;
  FMOD_OUTPUT_LOCK_CALLBACK <I>lock</I>;
  FMOD_OUTPUT_UNLOCK_CALLBACK <I>unlock</I>;
  FMOD_OUTPUT_MIXER_CALLBACK <I>mixer</I>;
  FMOD_OUTPUT_OBJECT3DGETINFO_CALLBACK <I>object3dgetinfo</I>;
  FMOD_OUTPUT_OBJECT3DALLOC_CALLBACK <I>object3dalloc</I>;
  FMOD_OUTPUT_OBJECT3DFREE_CALLBACK <I>object3dfree</I>;
  FMOD_OUTPUT_OBJECT3DUPDATE_CALLBACK <I>object3dupdate</I>;
  FMOD_OUTPUT_OPENPORT_CALLBACK <I>openport</I>;
  FMOD_OUTPUT_CLOSEPORT_CALLBACK <I>closeport</I>;
} FMOD_OUTPUT_DESCRIPTION;
</CODE></PRE>
<h2>Members</h2>
<P class=dt><I>apiversion</I></P>
<P class=indent>[w] The output plugin API version this plugin is built for. Set to this to FMOD_OUTPUT_PLUGIN_VERSION. </P>
<P class=dt><I>name</I></P>
<P class=indent>[w] Name of the output plugin. </P>
<P class=dt><I>version</I></P>
<P class=indent>[w] Version of the output plugin. </P>
<P class=dt><I>polling</I></P>
<P class=indent>[w] If TRUE (non-zero) a mixer thread is created that calls <A HREF="FMOD_OUTPUT_GETPOSITION_CALLBACK.html">FMOD_OUTPUT_GETPOSITION_CALLBACK</A> / <A HREF="FMOD_OUTPUT_LOCK_CALLBACK.html">FMOD_OUTPUT_LOCK_CALLBACK</A> / <A HREF="FMOD_OUTPUT_UNLOCK_CALLBACK.html">FMOD_OUTPUT_UNLOCK_CALLBACK</A> to drive the mixer. If FALSE (zero) you must call <A HREF="FMOD_OUTPUT_READFROMMIXER.html">FMOD_OUTPUT_READFROMMIXER</A> to drive the mixer yourself. </P>
<P class=dt><I>getnumdrivers</I></P>
<P class=indent>[w] Required user thread callback to provide the number of attached sound devices. Called from <A HREF="FMOD_System_GetNumDrivers.html">System::getNumDrivers</A>. </P>
<P class=dt><I>getdriverinfo</I></P>
<P class=indent>[w] Required user thread callback to provide information about a particular sound device. Called from <A HREF="FMOD_System_GetDriverInfo.html">System::getDriverInfo</A>. </P>
<P class=dt><I>init</I></P>
<P class=indent>[w] Required user thread callback to allocate resources and provide information about hardware capabilities. Called from <A HREF="FMOD_System_Init.html">System::init</A>. </P>
<P class=dt><I>start</I></P>
<P class=indent>[w] Optional user thread callback just before mixing should begin, calls to <A HREF="FMOD_OUTPUT_GETPOSITION_CALLBACK.html">FMOD_OUTPUT_GETPOSITION_CALLBACK</A> / <A HREF="FMOD_OUTPUT_LOCK_CALLBACK.html">FMOD_OUTPUT_LOCK_CALLBACK</A> / <A HREF="FMOD_OUTPUT_UNLOCK_CALLBACK.html">FMOD_OUTPUT_UNLOCK_CALLBACK</A> / <A HREF="FMOD_OUTPUT_MIXER_CALLBACK.html">FMOD_OUTPUT_MIXER_CALLBACK</A> will start, you may call <A HREF="FMOD_OUTPUT_READFROMMIXER.html">FMOD_OUTPUT_READFROMMIXER</A> after this point. Called from <A HREF="FMOD_System_Init.html">System::init</A>. </P>
<P class=dt><I>stop</I></P>
<P class=indent>[w] Optional user thread callback just after mixing has finished, calls to <A HREF="FMOD_OUTPUT_GETPOSITION_CALLBACK.html">FMOD_OUTPUT_GETPOSITION_CALLBACK</A> / <A HREF="FMOD_OUTPUT_LOCK_CALLBACK.html">FMOD_OUTPUT_LOCK_CALLBACK</A> / <A HREF="FMOD_OUTPUT_UNLOCK_CALLBACK.html">FMOD_OUTPUT_UNLOCK_CALLBACK</A> / <A HREF="FMOD_OUTPUT_MIXER_CALLBACK.html">FMOD_OUTPUT_MIXER_CALLBACK</A> have stopped, you may not call <A HREF="FMOD_OUTPUT_READFROMMIXER.html">FMOD_OUTPUT_READFROMMIXER</A> after this point. Called from <A HREF="FMOD_System_Close.html">System::close</A>. </P>
<P class=dt><I>close</I></P>
<P class=indent>[w] Required user thread callback to clean up resources allocated during <A HREF="FMOD_OUTPUT_INIT_CALLBACK.html">FMOD_OUTPUT_INIT_CALLBACK</A>. Called from <A HREF="FMOD_System_Init.html">System::init</A> and <A HREF="FMOD_System_Close.html">System::close</A>. </P>
<P class=dt><I>update</I></P>
<P class=indent>[w] Optional user thread callback once per frame to update internal state. Called from <A HREF="FMOD_System_Update.html">System::update</A>. </P>
<P class=dt><I>gethandle</I></P>
<P class=indent>[w] Optional user thread callback to provide a pointer to the internal device object used to share with other audio systems. Called from <A HREF="FMOD_System_GetOutputHandle.html">System::getOutputHandle</A>. </P>
<P class=dt><I>getposition</I></P>
<P class=indent>[w] Required mixer thread callback (if 'polling' is TRUE) to provide the hardware playback position in the output ring buffer. Called before a mix. </P>
<P class=dt><I>lock</I></P>
<P class=indent>[w] Required mixer thread callback (if 'polling' is TRUE) to provide a pointer the mixer can write to for the next block of audio data. Called before a mix. </P>
<P class=dt><I>unlock</I></P>
<P class=indent>[w] Optional mixer thread callback (if 'polling' is TRUE) to signify the mixer has finished writing to the pointer from <A HREF="FMOD_OUTPUT_LOCK_CALLBACK.html">FMOD_OUTPUT_LOCK_CALLBACK</A>. Called after a mix. </P>
<P class=dt><I>mixer</I></P>
<P class=indent>[w] Optional mixer thread callback (if 'polling' is FALSE) called repeatedly to give a thread for waiting on an audio hardware synchronization primitive (see remarks for details). Ensure you have a reasonable timeout (~200ms) on your synchronization primitive and allow this callback to return once per wakeup to avoid deadlocks. </P>
<P class=dt><I>object3dgetinfo</I></P>
<P class=indent>[w] Optional mixer thread callback to provide information about the capabilities of 3D object hardware. Called during a mix. </P>
<P class=dt><I>object3dalloc</I></P>
<P class=indent>[w] Optional mixer thread callback to reserve a hardware resources for a single 3D object. Called during a mix. </P>
<P class=dt><I>object3dfree</I></P>
<P class=indent>[w] Optional mixer thread callback to release a hardware resource previously acquired with <A HREF="FMOD_OUTPUT_OBJECT3DALLOC_CALLBACK.html">FMOD_OUTPUT_OBJECT3DALLOC_CALLBACK</A>. Called during a mix. </P>
<P class=dt><I>object3dupdate</I></P>
<P class=indent>[w] Optional mixer thread callback once for every acquired 3D object every mix to provide 3D information and buffered audio. Called during a mix. </P>
<P class=dt><I>openport</I></P>
<P class=indent>[w] Optional main thread callback to open an auxiliary output port on the device. </P>
<P class=dt><I>closeport</I></P>
<P class=indent>[w] Optional main thread callback to close an auxiliary output port on the device. </P>
<h2>Remarks</h2><P>
<p>There are several methods for driving the FMOD mixer to service the audio hardware.</p>

<ul>
<li>Polled: if the audio hardware must be polled regularly set 'polling' to TRUE, FMOD will create a mixer thread that calls back via <A HREF="FMOD_OUTPUT_GETPOSITION_CALLBACK.html">FMOD_OUTPUT_GETPOSITION_CALLBACK</A>. Once an entire block of samples have played FMOD will call <A HREF="FMOD_OUTPUT_LOCK_CALLBACK.html">FMOD_OUTPUT_LOCK_CALLBACK</A> to allow you to provide a destination pointer to write the next mix.</li>
<li>Callback: if the audio hardware provides a callback where you must provide a buffer of samples then set 'polling' to FALSE and directly call <A HREF="FMOD_OUTPUT_READFROMMIXER.html">FMOD_OUTPUT_READFROMMIXER</A>.</li>
<li>Synchronization: if the audio hardware provides a synchronization primitive to wait on then set 'polling' to FALSE and give a <A HREF="FMOD_OUTPUT_MIXER_CALLBACK.html">FMOD_OUTPUT_MIXER_CALLBACK</A> pointer. FMOD will create a mixer thread and call you repeatedly once <A HREF="FMOD_OUTPUT_START_CALLBACK.html">FMOD_OUTPUT_START_CALLBACK</A> has finished, you must wait on your primitive in this callback and upon wake call <A HREF="FMOD_OUTPUT_READFROMMIXER.html">FMOD_OUTPUT_READFROMMIXER</A>.</li>
<li>Non-realtime: if you are writing a file or driving a non-realtime output call <A HREF="FMOD_OUTPUT_READFROMMIXER.html">FMOD_OUTPUT_READFROMMIXER</A> from <A HREF="FMOD_OUTPUT_UPDATE_CALLBACK.html">FMOD_OUTPUT_UPDATE_CALLBACK</A>.</li>
</ul>

<p>Callbacks marked with 'user thread' will be called in response to the user of the FMOD low level API, in the case of the Studio runtime API, the user is the Studio Update thread.</p>

<p>Members marked with [r] mean read only for the developer, read/write for the FMOD system.</p>

<p>Members marked with [w] mean read/write for the developer, read only for the FMOD system.</p>
</P>
<h2>See Also</h2>
<UL type=disc>
<LI><A HREF="FMOD_OUTPUT_STATE.html">FMOD_OUTPUT_STATE</A></LI>
<LI><A HREF="FMOD_OUTPUT_GETNUMDRIVERS_CALLBACK.html">FMOD_OUTPUT_GETNUMDRIVERS_CALLBACK</A></LI>
<LI><A HREF="FMOD_OUTPUT_GETDRIVERINFO_CALLBACK.html">FMOD_OUTPUT_GETDRIVERINFO_CALLBACK</A></LI>
<LI><A HREF="FMOD_OUTPUT_INIT_CALLBACK.html">FMOD_OUTPUT_INIT_CALLBACK</A></LI>
<LI><A HREF="FMOD_OUTPUT_START_CALLBACK.html">FMOD_OUTPUT_START_CALLBACK</A></LI>
<LI><A HREF="FMOD_OUTPUT_STOP_CALLBACK.html">FMOD_OUTPUT_STOP_CALLBACK</A></LI>
<LI><A HREF="FMOD_OUTPUT_CLOSE_CALLBACK.html">FMOD_OUTPUT_CLOSE_CALLBACK</A></LI>
<LI><A HREF="FMOD_OUTPUT_UPDATE_CALLBACK.html">FMOD_OUTPUT_UPDATE_CALLBACK</A></LI>
<LI><A HREF="FMOD_OUTPUT_GETHANDLE_CALLBACK.html">FMOD_OUTPUT_GETHANDLE_CALLBACK</A></LI>
<LI><A HREF="FMOD_OUTPUT_GETPOSITION_CALLBACK.html">FMOD_OUTPUT_GETPOSITION_CALLBACK</A></LI>
<LI><A HREF="FMOD_OUTPUT_LOCK_CALLBACK.html">FMOD_OUTPUT_LOCK_CALLBACK</A></LI>
<LI><A HREF="FMOD_OUTPUT_UNLOCK_CALLBACK.html">FMOD_OUTPUT_UNLOCK_CALLBACK</A></LI>
<LI><A HREF="FMOD_OUTPUT_MIXER_CALLBACK.html">FMOD_OUTPUT_MIXER_CALLBACK</A></LI>
<LI><A HREF="FMOD_OUTPUT_OBJECT3DGETINFO_CALLBACK.html">FMOD_OUTPUT_OBJECT3DGETINFO_CALLBACK</A></LI>
<LI><A HREF="FMOD_OUTPUT_OBJECT3DALLOC_CALLBACK.html">FMOD_OUTPUT_OBJECT3DALLOC_CALLBACK</A></LI>
<LI><A HREF="FMOD_OUTPUT_OBJECT3DFREE_CALLBACK.html">FMOD_OUTPUT_OBJECT3DFREE_CALLBACK</A></LI>
<LI><A HREF="FMOD_OUTPUT_OBJECT3DUPDATE_CALLBACK.html">FMOD_OUTPUT_OBJECT3DUPDATE_CALLBACK</A></LI>
</UL>
<BR><BR><BR>
<P align=center><font size=-2>Version 1.09.01 Built on Feb 9, 2017</font></P>
<BR>
</HTML>
